{
    "$schema": "https://raw.githubusercontent.com/Pure-D/code-d/master/json-validation/dub.schema.json",
    "description" : "Hipreme Engine test scene",
	"license": "proprietary",
	"targetName" : "start_here",
	"name" : "start_here",
	"sourcePaths"  : ["source"],
    "engineModules": [
        "util",
        "math",
		"game2d"
    ],
    "stringImportPaths": ["#PROJECT"],
	"dflags-ldc": ["--disable-verify", "--oq"],
    "preBuildCommands-posix": [
		"export DFLAGS= && rdmd #HIPREME_ENGINE/tools/internal/getmodules.d #PROJECT/source/ #PROJECT/scriptmodules.txt"
	],
	"preBuildCommands-windows": [
		"set DFLAGS= && rdmd #HIPREME_ENGINE/tools/internal/getmodules.d #PROJECT/source/ #PROJECT/scriptmodules.txt"
	],
	"configurations": 
	[
		{
			"name" : "script",
			"targetType": "dynamicLibrary",
			"dflags-ldc": ["-link-defaultlib-shared=true"],
			"dependencies": {
				"hipengine_api": {"path": "#HIPREME_ENGINE/api"}
			},
			"lflags-windows-ldc": [
                "/WHOLEARCHIVE:hipengine_api_bindings",
                "/WHOLEARCHIVE:hipengine_api_interfaces"
            ],
			"versions": ["ScriptAPI"],
			"lflags-windows": ["/WX"]
		},
		{
			"name": "release",
			"targetType": "library"
		},
		{
			"name": "release-wasm",
			"targetType": "executable",
			"dependencies": {
				"hipreme_engine": {"path": "#HIPREME_ENGINE"}
			},
			"subConfigurations": {
				"hipreme_engine": "wasm",
				"game2d": "direct"
			}
		},
		{
			"name": "run",
			"targetType": "dynamicLibrary",
			"lflags-windows": [
				"/WX"
			],
			"postGenerateCommands-windows": ["cd ..\\..\\ && dub -c script -- .\\projects\\start_here"],
			"postGenerateCommands-linux": ["cd ../../ && dub -c script -- ./projects/start_here"]
		}
	],
	"versions" : [
		"HipMathAPI",
		"HipremeAudio"
	]
}